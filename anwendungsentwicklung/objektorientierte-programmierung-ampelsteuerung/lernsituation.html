<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<title>Ampelsteuerung</title>
<link rel="stylesheet" href="/unterricht/stylesheets/html5/ovm.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/unterricht/stylesheets/html5/pygments-default.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Inhalt</div>
<ul class="sectlevel0">
<li><a href="#_ampelsteuerung">Ampelsteuerung</a>
<ul class="sectlevel1">
<li><a href="#_komponenten">1. Komponenten</a></li>
<li><a href="#_schnittstellen">2. Schnittstellen</a></li>
<li><a href="#_prototyp">3. Prototyp</a></li>
<li><a href="#_aufgaben">Aufgaben</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="http://ovm-kassel.de" class="bare">http://ovm-kassel.de</a> | Lernsituation</th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Lernsituation IT-AE-JA-LS-4.1</strong><br>
  <strong>Ampelsteuerung</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="/unterricht/images/Logo-RSBS-SVG_mini-blau.svg" alt="OvM-Logo" width="76" height="61"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Code</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IT-AE-JA-LS-4.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Autor</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">André Bauer<br>
  &lt;a(dot)bauer(at)ovm-kassel(dot)de&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Datum</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2. Juni 2018</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Links</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="https://pdfs.semanticscholar.org/presentation/b024/fbaa3c40ce8e5e6dd47d045b3ce34d44d291.pdf">Vortragsfolien "Modellieren mit der Unified Modeling Language: Klassen- und Objektdiagramme"</a></p>
</li>
<li>
<p><a href="http://www.erasmus-reinhold-gymnasium.de/info/prakt_inf/UML-Informatikskript.pdf">Skript "Objektorientierte Programmierung mit Java und UML"</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Verwandte Literatur</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="../oop-java-einstieg/information-quellcode-dokumentieren.html">Information IT-AE-JA-INFO-3.5 Quellcode dokumentieren</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Lizenz</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><a class="image" href="http://creativecommons.org/licenses/by-sa/4.0/"><img src="/unterricht/images/cc-by-sa-88x31.png" alt="Creative Commons Lizenzvertrag"></a></span><br>
Dieses Werk ist lizenziert unter einer<br>
<a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Namensnennung - Weitergabe unter gleichen Bedingungen 4.0 International Lizenz</a>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<h1 id="_ampelsteuerung" class="sect0">Ampelsteuerung</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>Die Smart Traffic Tech GmbH entwickelt u.&#160;a. Steuerungssysteme
für Verkehrsampeln. Sie sollen dazu in der Entwicklungsabteilung
eine Software-Komponente entwickeln.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_komponenten">1. Komponenten</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Der für das Projekt verantwortliche Software-Architekt hat
bereits einen Entwurf für die Komponenten und deren
Abhängigkeiten entwickelt.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="oopint-components.svg" alt="oopint components" width="496" height="383">
</div>
<div class="title">Abbildung 1. Komponenten und Abhängigkeiten</div>
</div>
<div class="paragraph">
<p>Der Projektleiter hat Ihnen
und ihrem Teampartner zur Wahl gestellt,
ob Sie</p>
</div>
<div class="ulist">
<ul>
<li>
<p>die zentrale Steuerungseinheit, den Controller
<code>com.traffic_lights.controller</code>,</p>
</li>
<li>
<p>eine Komponente zur graphische Anzeige,
den View <code>com.traffic_lights.view</code>, oder</p>
</li>
<li>
<p>die Komponente für die Eingabe über eine
<a href="https://de.wikipedia.org/wiki/Grafische_Benutzeroberfl%C3%A4che">Grafische Benutzeroberfläche</a>,
den Input <code>com.traffic_lights.input</code>,</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>der Ampelschaltung entwickeln.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_schnittstellen">2. Schnittstellen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Die Komponenten sollen dabei über
<a href="http://openbook.rheinwerk-verlag.de/javainsel9/javainsel_05_013.htm#mjfac44aa7eeb458fddc00bde8886194c9">Schnittstellen</a>
verbunden werden und nur über diese Informationen austauschen.
Dies soll die Integration der Komponenten aus den
verschiedenen Teams erleichtern und ermöglichen, dass
Komponenten auch ausgetauscht werden können.</p>
</div>
<div class="paragraph">
<p>Die Schnittstelle der beiden Komponenten Controller und View ist durch zwei
<a href="http://openbook.rheinwerk-verlag.de/javainsel9/javainsel_05_013.htm#mjfac44aa7eeb458fddc00bde8886194c9">Java-Interfaces</a>
definiert, die jeweils eine interne Aufzählung der möglichen Zustände
enthalten, die den Ampelphasen für eine
<a href="https://de.wikipedia.org/wiki/Ampel#Standard-Ampelanlage">Standard-Ampelanlage</a>
mit vier Signalisierungszuständen
bzw. einer zweiphasigen
<a href="https://de.wikipedia.org/wiki/Ampel#Fu%C3%9Fg%C3%A4ngerampeln">Fußgängerampel</a>
entsprechen.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="oopint-interface-controller-view.svg" alt="oopint interface controller view" width="428" height="485">
</div>
<div class="title">Abbildung 2. Schnittstelle zwischen den Komponenten View und Controller</div>
</div>
<div class="paragraph">
<p>Der Controller benutzt diese Schnittstelle,
indem er für die Steuerungskommandos an die Ampeln
mit der Methode <code>turn(State)</code> die Java-Schnittstellen
<a href="https://github.com/bauerandre/traffic-lights/blob/master/src/com/traffic_lights/controller/PedestrianCrossingLights.java">PedestrianCrossingLights</a>
sowie
<a href="https://github.com/bauerandre/traffic-lights/blob/master/src/com/traffic_lights/controller/TrafficLights.java">TrafficLights</a>
anstatt konkreter Java-Klassen verwendet.
In <a href="#diagram-cv">Abbildung 3</a> verwendet die Klasse
<a href="https://github.com/bauerandre/traffic-lights/blob/master/src/com/traffic_lights/controller/PedestrianCrossingController.java">PedestrianCrossingController</a>
die Schnittstellen zur
Kommunikation mit dem View.</p>
</div>
<div class="paragraph">
<p>Der View verwendet diese Schnittstelle durch Klassen,
die die Java-Schnittstellen
<a href="https://github.com/bauerandre/traffic-lights/blob/master/src/com/traffic_lights/controller/PedestrianCrossingLights.java">PedestrianCrossingLights</a>
sowie
<a href="https://github.com/bauerandre/traffic-lights/blob/master/src/com/traffic_lights/controller/TrafficLights.java">TrafficLights</a>
implementieren,
also indem er Klassen bereitstellt,
die über eine passende Methode <code>turn(State)</code> verfügen.
In <a href="#diagram-cv">Abbildung 3</a> implementieren die Klassen
<a href="https://github.com/bauerandre/traffic-lights/blob/master/src/com/traffic_lights/view/SimpleTrafficLights.java">SimpleTrafficLights</a>
und
<a href="https://github.com/bauerandre/traffic-lights/blob/master/src/com/traffic_lights/view/SimplePedestrianCrossingLights.java">SimplePedestrianCrossingLights</a>
diese Schnittstellen.</p>
</div>
<div id="diagram-cv" class="imageblock">
<div class="content">
<img src="oopint-use-of-interface-controller-view.svg" alt="oopint use of interface controller view" width="582" height="597">
</div>
<div class="title">Abbildung 3. Verwendung der Schnittstelle zwischen den Komponenten View und Controller.</div>
</div>
<div class="paragraph">
<p>Die Komponenten Input und Controller kommunizieren über die Schnittstelle
<a href="https://github.com/bauerandre/traffic-lights/blob/master/src/com/traffic_lights/controller/PedestrianInput.java">PedestrianInput</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="oopint-pedestrian-input.svg" alt="oopint pedestrian input" width="154" height="105">
</div>
<div class="title">Abbildung 4. Java-Interface PedestrianInput</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prototyp">3. Prototyp</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Einer der Senior-Entwickler hat bereits
<a href="https://de.wikipedia.org/wiki/JUnit">JUnit</a>-Tests
für die zu entwickelnden Komponenten und
<a href="https://de.wikipedia.org/wiki/Mock-Objekt">Mock-Objekte</a> entwickelt,
die Sie für die
<a href="https://de.wikipedia.org/wiki/Modultest">Modultests</a>
mit den Schnittstellen verbinden.</p>
</div>
<div class="paragraph">
<p>Zudem hat ein Team bereist einen
<a href="https://de.wikipedia.org/wiki/Proof_of_Concept">Prototypen</a>
als Machbarkeitsnachweis entwickelt, der als
<a href="https://github.com/bauerandre/traffic-lights">Git-Repository</a> und als
<a href="https://github.com/bauerandre/traffic-lights/archive/master.zip">ZIP-Archiv</a>
vorliegt und dessen Aufbau
in <a href="#diagram-prototype">Abbildung 5</a> als Klassen-Diagramm dargestellt ist.</p>
</div>
<div id="diagram-prototype" class="imageblock">
<div class="content">
<img src="oopint-pedestrian-crossing-lights.svg" alt="oopint pedestrian crossing lights" width="1133" height="760">
</div>
<div class="title">Abbildung 5. Prototyp der Ampelsteuerung</div>
</div>
<div class="paragraph">
<p><a href="https://github.com/bauerandre/traffic-lights/blob/master/src/com/traffic_lights/controller/PedestrianCrossingController.java">PedestrianCrossingController</a>
und
<a href="https://github.com/bauerandre/traffic-lights/blob/master/src/com/traffic_lights/user/RandomUser.java">RandomUser</a>
sind als
<a href="http://openbook.rheinwerk-verlag.de/javainsel9/javainsel_14_002.htm#mjd345a92a4debb2b6c1b71c9da5491844">Runnable</a>
implementiert, so dass diese in
<a href="http://openbook.rheinwerk-verlag.de/javainsel9/javainsel_14_001.htm#mj8c6f381221d805dd6fbe480731ac0c58">nebenläufigen Threads</a>
ablaufen können.
Die Klasse <a href="https://github.com/bauerandre/traffic-lights/blob/master/src/com/traffic_lights/user/RandomUser.java">RandomUser</a>
dient dabei als Test-Benutzer, der nach zufälligen Zeitabständen
den
<a href="https://github.com/bauerandre/traffic-lights/blob/master/src/com/traffic_lights/input/Button.java">Button</a>
über die Methode <code>push()</code> betätigt.</p>
</div>
<div class="paragraph">
<p>Eine
<a href="https://github.com/bauerandre/traffic-lights/blob/master/src/com/traffic_lights/Main.java">Main-Klasse</a>,
die der Übersicht halber in <a href="#diagram-prototype">Abbildung 5</a> <em>nicht</em> dargestellt ist,
verbindet die Komponenten und startet das System.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_aufgaben">Aufgaben</h2>
<div class="sectionbody">
<div class="sidebarblock">
<div class="content">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Wichtig"></i>
</td>
<td class="content">
Stellen sie die Quelltexte Ihrer Lösungen als
	   Archiv-Dateien (im <code>zip-</code> oder <code>tar.gz-</code> Format) zur Verfügung.<br>
	   Diese sollten keine (<code>javac</code>-)Compiler-Fehler mehr enthalten.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Importieren Sie den
<a href="https://github.com/bauerandre/traffic-lights">Prototypen</a>
in Ihre Java-Entwicklungsumgebung und prüfen Sie, ob Sie diesen
kompilieren und ausführen können. Die Ausgabe sollte nach
etwa einer Minute ungefähr so aussehen:</p>
<div class="listingblock">
<div class="content">
<pre>User Random
Simple Pedestrian Crossing Lights PS1: Red
Simple Traffic Lights TS1: Red
SimpleButton B1 with State Resumed
Simple Traffic Lights TS1: Green
Simple Pedestrian Crossing Lights PS1: Red
System and User started
User Random pressed button SimpleButton B1 with State Resumed
SimpleButton B1 with State Pushed
SimpleButton B1 with State Paused
Simple Traffic Lights TS1: Yellow
User Random pressed button SimpleButton B1 with State Paused
Simple Traffic Lights TS1: Red
Simple Pedestrian Crossing Lights PS1: Green
Simple Pedestrian Crossing Lights PS1: Red
User Random pressed button SimpleButton B1 with State Paused
Simple Traffic Lights TS1: RedYellow
Simple Traffic Lights TS1: Green
SimpleButton B1 with State Resumed
User Random pressed button SimpleButton B1 with State Resumed
SimpleButton B1 with State Pushed
User Random pressed button SimpleButton B1 with State Pushed
...</pre>
</div>
</div>
</li>
<li>
<p>Importieren Sie die JUnit-Tests und Mock-Objekte.<br>
Entwickeln und testen Sie entweder</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>für den View zwei Klassen
<code>GraphicalTrafficLights</code> und <code>GraphicalPedestrianCrossingLights</code>,
die anstatt der Text-Ausgaben von
<a href="https://github.com/bauerandre/traffic-lights/blob/master/src/com/traffic_lights/view/SimpleTrafficLights.java">SimpleTrafficLights</a>
und
<a href="https://github.com/bauerandre/traffic-lights/blob/master/src/com/traffic_lights/view/SimplePedestrianCrossingLights.java">SimplePedestrianCrossingLights</a>
eine graphische Ausgabe mithilfe der
<a href="http://openbook.rheinwerk-verlag.de/javainsel9/javainsel_20_001.htm#mj25cc7d47e476b8b1a183a10ee741dbaa">Java-Grafikprogrammierung</a> anbieten,</p>
</li>
<li>
<p>für den Input anstatt der Klasse <a href="https://github.com/bauerandre/traffic-lights/blob/master/src/com/traffic_lights/input/SimpleButton.java">SimpleButton</a>
eine
<a href="http://openbook.rheinwerk-verlag.de/javainsel9/javainsel_19_001.htm#mjc8f47f7f51ac3795c46c4544f391b02e">grafische Oberfläche (GUI)</a> oder</p>
</li>
<li>
<p>einen Controller für die Ampfelsteuerung einer Straßenkreuzung.<br>
Vertiefend können Sie diesen Controller noch erweitern um</p>
<div class="openblock">
<div class="content">
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>einen bedarfsgesteuerten Fußgängerübergang oder</p>
</li>
<li>
<p>eine Fahrradampel, deren Grün-Phase
zeitversetzt einige Sekunden vor den Fahrzeugen beginnt.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>Das Systemverhalten können Sie zunächst mit einem
<a href="http://moodle2013.ovm-kassel.de/mod/url/view.php?id=11247">Aktivitätsdiagramm</a>
planen.</p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Führen Sie einen Integrationstest durch, indem Sie Ihre
Komponente mit der einer anderen Gruppe verbinden und Tests durchführen,
z.&#160;B. mit <a href="https://de.wikipedia.org/wiki/JUnit">JUnit</a>.</p>
</li>
<li>
<p><a href="/unterricht/anwendungsentwicklung/oop-java-einstieg/information-quellcode-dokumentieren.html">Dokumentieren Sie Ihren Quellcode</a>
mit
<a href="https://de.wikipedia.org/wiki/Javadoc">Javadoc</a>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Zuletzt aktualisiert 2018-06-02 14:18:59 CEST
</div>
</div>
</body>
</html>