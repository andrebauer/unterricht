<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<title>Objektorientierte Software-Entwicklung</title>
<link rel="stylesheet" href="/unterricht/stylesheets/html5/ovm.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/unterricht/stylesheets/html5/pygments-default.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Inhalt</div>
<ul class="sectlevel0">
<li><a href="#_objektorientierte_software_entwicklung">Objektorientierte Software-Entwicklung</a>
<ul class="sectlevel1">
<li><a href="#_objektorientierte_analyse_ooa">1. Objektorientierte Analyse (OOA)</a>
<ul class="sectlevel2">
<li><a href="#_user_stories">1.1. User-Stories</a></li>
<li><a href="#_verfahren_von_abbott">1.2. Verfahren von Abbott</a></li>
<li><a href="#_sequenzdiagramme">1.3. Sequenzdiagramme</a></li>
<li><a href="#_objektdiagramme">1.4. Objektdiagramme</a></li>
<li><a href="#_klassendiagramme">1.5. Klassendiagramme</a></li>
</ul>
</li>
<li><a href="#_objektorientierte_modellierung_oom">2. Objektorientierte Modellierung (OOM)</a>
<ul class="sectlevel2">
<li><a href="#_enumerations">2.1. Enumerations</a></li>
<li><a href="#_die_aggregation_hat_beziehung">2.2. Die Aggregation (Hat-Beziehung)</a></li>
</ul>
</li>
<li><a href="#_objektorientierte_programmierung_oop_mit_java">3. Objektorientierte Programmierung (OOP) mit Java</a>
<ul class="sectlevel2">
<li><a href="#_was_wird_noch_benötigt_damit_der_schalter_die_lampen_steuert">3.1. Was wird noch benötigt, damit der Schalter die Lampen steuert?</a></li>
<li><a href="#_wie_kann_man_mehrere_lampen_mit_einem_schalter_verbinden">3.2. Wie kann man mehrere Lampen mit einem Schalter verbinden?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="http://ovm-kassel.de" class="bare">http://ovm-kassel.de</a> | Information</th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Information IT-AE-JA-INFO-5.1</strong><br>
  <strong>Objektorientierte Software-Entwicklung</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="/unterricht/images/Logo-RSBS-SVG_mini-blau.svg" alt="OvM-Logo" width="76" height="61"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Code</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IT-AE-JA-INFO-5.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Autor</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">André Bauer<br>
  &lt;a(dot)bauer(at)ovm-kassel(dot)de&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Datum</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">25. Februar 2018</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Links</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Verwandte Literatur</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Lizenz</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><a class="image" href="http://creativecommons.org/licenses/by-sa/4.0/"><img src="/unterricht/images/cc-by-sa-88x31.png" alt="Creative Commons Lizenzvertrag"></a></span><br>
Dieses Werk ist lizenziert unter einer<br>
<a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Namensnennung - Weitergabe unter gleichen Bedingungen 4.0 International Lizenz</a>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<h1 id="_objektorientierte_software_entwicklung" class="sect0">Objektorientierte Software-Entwicklung</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>Wenn eine Software mehr als etwa hundert Zeilen Quellcode umfasst,
spätestens ab mehreren hundert,
benötigt man Techniken, um der Software eine klare
Struktur zu geben. Eine klare Struktur ist wichtig, damit die Software leicht
angepasst und erweitert werden kann, sowohl durch bisherige als auch durch
andere Entwickler.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_objektorientierte_analyse_ooa">1. Objektorientierte Analyse (OOA)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_user_stories">1.1. User-Stories</h3>
<div class="paragraph">
<p>Eine sehr häufig angewandte Technik zum Entwurf und zur Strukturierung ist die
objektorientierte Software-Entwicklung. Dazu wird in der objektorientierten
Analyse anhand von Szenarien ermittelt, wie die zukünftige Nutzung des
(Software-)Systems ablaufen soll. Dabei werden sogenannte
<a href="https://de.wikipedia.org/wiki/User-Story">User-Stories</a>
verfasst:</p>
</div>
<div id="user-story-1" class="quoteblock">
<div class="title">User-Story 1</div>
<blockquote>
<div class="paragraph">
<p>Die Lampen lampe1, lampe2 und lampe3 sind anfangs ausgeschaltet. Der Schalter schalter1
ist ebenfalls in der Positon &#8222;aus&#8220;.
Der Benutzer betätigt den Schalter schalter1. Die Lampen  lampe1, lampe2 und lampe3 werden
eingeschaltet.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Aus den User-Stories können nun die relevanten Objekte abgeleitet werden;
im Beispiel sind dies der Benutzer, der Schalter schalter1 sowie die Lampen lampe1, lampe2 und
lampe3.</p>
</div>
</div>
<div class="sect2">
<h3 id="_verfahren_von_abbott">1.2. Verfahren von Abbott</h3>
<div class="paragraph">
<p>Mit dem Verfahren von Abbott werden aus einer Problem- oder
Situationsbeschreibung oder entsprechenden User-Stories
mögliche Objekte, Attribute und Methoden ermittelt.
Dieses Verfahren wird auf dem Informationsblatt IT-AE-JA-INFO-5.2
erläutert.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sequenzdiagramme">1.3. Sequenzdiagramme</h3>
<div class="paragraph">
<p>Stellt man die User-Story in einem
<a href="https://de.wikipedia.org/wiki/Sequenzdiagramm">UML-Sequenzdiagramm</a> dar,
so kann man den Programmablauf entlang der Pfeile ablesen.
So sendet der Schalter schalter1 die Nachricht <code>einschalten()</code> an die Lampe lampe1. Erst
wenn diese den Einschaltvorgang abgeschlossen hat, setzt schalter1 seine Arbeit
fort und sendet lampe2 die Nachricht <em>einschalten()</em> usw.</p>
</div>
<div id="sequenzdiagramm-1" class="imageblock">
<div class="content">
<img src="oose-sequenzdiagramm-1.svg" alt="oose sequenzdiagramm 1" width="644" height="366">
</div>
<div class="title">Abbildung 1. Sequenzdiagramm zur <a href="#user-story-1">User-Story 1</a></div>
</div>
<div class="paragraph">
<p>Eine zweite User-Story vervollständigt die möglichen Anwendungsfälle
der Schaltung:</p>
</div>
<div id="user-story-2" class="quoteblock">
<div class="title">User-Story 2</div>
<blockquote>
<div class="paragraph">
<p>Die Lampen lampe1, lampe2 und lampe3 sind eingeschaltet. Der Schalter schalter1
ist ebenfalls in der Positon &#8222;ein&#8220;.
Der Benutzer betätigt den Schalter schalter1. Die Lampen  lampe1, lampe2 und lampe3 werden
ausgeschaltet.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Daraus ergibt sich das folgende Sequenzdiagramm:</p>
</div>
<div id="sequenzdiagramm-2" class="imageblock">
<div class="content">
<img src="oose-sequenzdiagramm-2.svg" alt="oose sequenzdiagramm 2" width="644" height="366">
</div>
<div class="title">Abbildung 2. Sequenzdiagramm zur <a href="#user-story-2">User-Story 2</a></div>
</div>
</div>
<div class="sect2">
<h3 id="_objektdiagramme">1.4. Objektdiagramme</h3>
<div class="paragraph">
<p>Aus den User-Stories bzw. den zugehörigen Sequenzdiagrammen kann man
ablesen, wie die beteiligten Objekte miteinander verknüpt sein müssen,
um Nachrichten austauschen zu können:</p>
</div>
<div class="paragraph">
<p>Der Schalter schalter1 verwendet die Lampen lampe1, lampe2 und lampe3, um ihnen jeweils die
Nachricht <code>einschalten()</code> bzw. <code>ausschalten()</code> senden zu können.
Diese Beziehung wird in einem
<a href="https://de.wikipedia.org/wiki/Objektdiagramm">Objektdiagramm</a> durch Pfeile
dargestellt.</p>
</div>
<div class="paragraph">
<p>Objekte, die Nachrichten austauschen, werden im Diagramm mit Linien verbunden.
Dieser Beziehungstyp wird <em>Assoziation</em> genannt (auch Kennt-Beziehung).
Die Beziehungen werden mit einem Namen versehen, im Beispiel lautet dieser
&#8222;schaltet&#8220;.
Wenn die Nachrichten nur in eine Richtung ausgetauscht werden, wird
dies durch eine Pfeilspitze kenntlich gemacht.</p>
</div>
<div class="paragraph">
<p>Daraus ergibt sich das folgende Objektdiagramm:</p>
</div>
<div id="objektdiagramm-1" class="imageblock">
<div class="content">
<img src="oose-objektdiagramm-schalter-drei-lampen-1.svg" alt="oose objektdiagramm schalter drei lampen 1" width="1042" height="104">
</div>
<div class="title">Abbildung 3. Objektdiagramm für einen Aufbau mit einem Schalter und drei Lampen zu Beginn der <a href="#user-story-1">User-Story 1</a></div>
</div>
<div class="paragraph">
<p>Ein Objektdiagramm stellt den Zustand eines Software-Systems zu einen
bestimmten Zeitpunkt dar.<br>
Das Diagramm in <a href="#objektdiagramm-1">Abbildung 3</a> stellt den
Zustand zu Beginn der <a href="#user-story-1">User-Story 1</a> bzw. zum Ende der
<a href="#user-story-2">User-Story 2</a> dar, da der Schalter und die Lampen den Zustand <code>AUS</code> haben.</p>
</div>
<div class="paragraph">
<p>Der Zustand zum Ende der <a href="#user-story-1">User-Story 1</a> bzw. zu Beginn der <a href="#user-story-2">User-Story 2</a>
sieht so aus:</p>
</div>
<div id="objektdiagramm-2" class="imageblock">
<div class="content">
<img src="oose-objektdiagramm-schalter-drei-lampen-2.svg" alt="oose objektdiagramm schalter drei lampen 2" width="688" height="76">
</div>
<div class="title">Abbildung 4. Objektdiagramm für einen Aufbau mit einem Schalter und drei Lampen zum Ende der <a href="#user-story-1">User-Story 1</a></div>
</div>
<div class="paragraph">
<p>Man könnte jetzt den Schalter und jede der
drei Lampen direkt programmieren, aber
dies hätte Nachteile:
für die Lampen würde man dreimal dasselbe Programm schreiben.
Es wäre daher eine unflexible Lösung, man möchte mit derselben
Software auch Schaltungen
mit vier oder mehr Lampen mit einem Schalter verbinden können.</p>
</div>
<div id="objektdiagramm-b" class="imageblock">
<div class="content">
<img src="oose-objektdiagramm-schalter-fuenf-lampen.svg" alt="oose objektdiagramm schalter fuenf lampen" width="976" height="114">
</div>
<div class="title">Abbildung 5. Objektdiagramm für einen Aufbau mit einem Schalter und fünf Lampen</div>
</div>
</div>
<div class="sect2">
<h3 id="_klassendiagramme">1.5. Klassendiagramme</h3>
<div class="paragraph">
<p>Daher verallgemeinert man die möglichen Objektbeziehungen in Form eines
<a href="https://de.wikipedia.org/wiki/Klassendiagramm">UML-Klassendiagramms</a>:</p>
</div>
<div id="klassendiagramm-1" class="imageblock">
<div class="content">
<img src="oose-klassendiagramm-schalter-lampe.svg" alt="oose klassendiagramm schalter lampe" width="459" height="308">
</div>
<div class="title">Abbildung 6. Klassendiagramm als Ergebnis der OOA</div>
</div>
<div class="paragraph">
<p>In einem Klassendiagramm werden Objekte mit derselben Struktur zu einer
Klasse zusammengefasst.
Die Lampen lampe1, lampe2 und lampe3 werden also zu den Klasse <code>Lampe</code> zusammengefasst.
Die Nachricht <code>drücken()</code> wird
dem Schalter und <code>ausschalten()</code> bei der <code>Lampe</code> notiert, also jeweils bei der
Klasse, der die entsprechende Nachricht gesendet wird.
Statt Nachricht wird im Zusammenhang mit der Programmsprache
Java der Begriff <em>Methode</em> verwendet.
Die Daten, die auch Attribute der Objekte bzw. Klassen genannt werden,
können im Klassendiagramm mit ihren initialen Werten angegeben werden,
zudem kann auch der entsprechende Datentyp benannt werden
wie in <a href="#klassendiagramm-schema">Abbildung 7</a> und <a href="#klassendiagramm-3">Abbildung 10</a>.</p>
</div>
<div class="paragraph">
<p>Das Klassendiagramm stellt im Gegensatz zu einem Objektdiagramm keinen
Systemzustand dar, sondern die Struktur der zugrundeliegenden Software
bzw. des Quellcodes.</p>
</div>
<div class="paragraph">
<p>Die Darstellung einer Klasse im Klassendiagramm folgt dem folgenden Schema:</p>
</div>
<div id="klassendiagramm-schema" class="imageblock">
<div class="content">
<img src="oose-klassendiagramm-schema.svg" alt="oose klassendiagramm schema" width="221" height="143">
</div>
<div class="title">Abbildung 7. Schema der graphischen Darstellung einer Klasse</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_objektorientierte_modellierung_oom">2. Objektorientierte Modellierung (OOM)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In der objektorientierten Modellierung werden u.&#160;a. die
bereits vorgenommenen Modellierungen in den Klassendiagrammen
verfeinert und z.&#160;B. Datentypen und initiale Werte eingefügt.
Gegebenenfalls werden die Diagramme um weitere Klassen ergänzt,
die sich nicht unmittelbar aus der Analyse ergeben haben, aber für
die Implementierung in der gewählten Programmiersprache benötigt werden,
wie die Definition einer Enumeration.</p>
</div>
<div class="sect2">
<h3 id="_enumerations">2.1. Enumerations</h3>
<div class="paragraph">
<p>In den Objektdiagrammen in <a href="#objektdiagramm-1">Abbildung 3</a> und <a href="#objektdiagramm-2">Abbildung 4</a>
haben die Objekte das
Attribut <code>zustand</code> mit den möglichen Werten <code>ON</code> und <code>OFF.</code>
Anstatt eines vorhandenen Java-Datentyps wie <code>int</code>, <code>boolean</code> oder <code>string</code>
erstellen wir mithilfe einer Aufzählung (engl. enumeration, in Java abgekürzt
zu <code>enum</code>)
einen passenden neuen und aussagekräftigen Datentyp.</p>
</div>
<div id="listing-enum-state" class="listingblock">
<div class="title">Quellcode 1. Enumumertation State in Java</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">enum</span> <span class="tok-n">State</span> <span class="tok-o">{</span>
  <span class="tok-n">ON</span><span class="tok-o">,</span>
  <span class="tok-n">OFF</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Die Aufzählung <code>State</code> ergänzen wir in dem Klassendiagramm und
verwenden zudem ab jetzt englische Begriffe. Die Verwendung englischer
Sprache im Quellcode ist üblich, da bei den meisten Programmiersprachen
für die Sprachelemente sowie die
<a href="https://de.wikipedia.org/wiki/Programmbibliothek">Programmbibliotheken</a>
ohnehin englische Sprache verwendet wird, wie auch bei Java.</p>
</div>
<div id="klassendiagramm-2" class="imageblock">
<div class="content">
<img src="oose-klassendiagramm-schalter-lampe-enum.svg" alt="oose klassendiagramm schalter lampe enum" width="506" height="256">
</div>
<div class="title">Abbildung 8. Klassendiagramm mit Enumeration und englischen Begriffen</div>
</div>
<div class="paragraph">
<p>Sowohl <code>Switch</code> als auch <code>Lamp</code> verwenden <code>State</code>, was durch Pfeile
in <a href="#klassendiagramm-2">Abbildung 8</a> gekennzeichnet ist.</p>
</div>
<div class="paragraph">
<p>Damit haben wir aus den User-Stories eine objektorientierte Struktur
für die Software entworfen. Man nennt diesen Schritt
<a href="https://de.wikipedia.org/wiki/Objektorientierte_Analyse_und_Design"><strong>objektorientierte Modellierung</strong></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_die_aggregation_hat_beziehung">2.2. Die Aggregation (Hat-Beziehung)</h3>
<div class="paragraph">
<p>Neben der Assoziation (Kennt-Beziehung) gibt es noch
stärkere Beziehungstypen, u.&#160;a. die
<a href="https://de.wikipedia.org/wiki/Assoziation_(UML)#Aggregation_und_Komposition">Aggregation (Hat-Beziehung)</a> zwischen
Objekten bzw. Klassen.
So <em>hat</em> ein Motorrad ein Vorderrad.</p>
</div>
<div id="objektdiagramm-aggregation" class="imageblock">
<div class="content">
<img src="oose-objektdiagramm-aggregation.svg" alt="oose objektdiagramm aggregation" width="328" height="185">
</div>
<div class="title">Abbildung 9. Objektdiagramm mit Aggregation</div>
</div>
<div class="paragraph">
<p>Die Raute (auch Diamand genannt),
die diesen Beziehungstyp kennzeichnet, darf <em>nicht</em> wie
die Pfeilspitze der Assoziation interpretiert werden, denn die Beziehung
geht vom Motorrad zum Vorderrad.
Auf der Ebene der Programmierung ist bei einer Aggregation die Klasse
Motorrad für die Verwaltung der Objekte der Klasse Vorderrad zuständig.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_objektorientierte_programmierung_oop_mit_java">3. Objektorientierte Programmierung (OOP) mit Java</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dem Klassendiagramm entspricht das folgende Java-Programm:</p>
</div>
<div class="listingblock">
<div class="title">Quellcode 2. Java-Programm</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-c1">// Datei State.java</span>
<span class="tok-kd">public</span> <span class="tok-kd">enum</span> <span class="tok-n">State</span> <span class="tok-o">{</span>
  <span class="tok-n">ON</span><span class="tok-o">,</span>
  <span class="tok-n">OFF</span>
<span class="tok-o">}</span>

<span class="tok-c1">// Datei Switch.java</span>
<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Switch</span> <span class="tok-o">{</span>
  <span class="tok-kd">private</span> <span class="tok-n">State</span> <span class="tok-n">state</span><span class="tok-o">;</span>

  <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">press</span><span class="tok-o">()</span> <span class="tok-o">{</span>
  <span class="tok-o">}</span>
<span class="tok-o">}</span>

<span class="tok-c1">// Datei Lamp.java</span>
<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Lamp</span> <span class="tok-o">{</span>
  <span class="tok-kd">private</span> <span class="tok-n">State</span> <span class="tok-n">state</span><span class="tok-o">;</span>

  <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">turnOn</span><span class="tok-o">()</span> <span class="tok-o">{</span>
  <span class="tok-o">}</span>

  <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">turnOff</span><span class="tok-o">()</span> <span class="tok-o">{</span>
  <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ist damit die Entwicklung der Software abgeschlossen?
Nein, noch nicht, wir haben bislang erst eine objektorientierte Struktur
erstellt.</p>
</div>
<div class="sect2">
<h3 id="_was_wird_noch_benötigt_damit_der_schalter_die_lampen_steuert">3.1. Was wird noch benötigt, damit der Schalter die Lampen steuert?</h3>
<div class="ulist">
<div class="title">Wir benötigen &#8230;&#8203;</div>
<ul>
<li>
<p>Konstruktoren, die wie in den User-Stories den
Anfangszustand herstellen und Objekte einer Klasse kreieren.</p>
</li>
<li>
<p>eine Ausgabe, wenn die Lampe ihren Zustand wechselt, damit wir
das Programm testen können.</p>
</li>
<li>
<p>Quellcode, der die Beziehungen zwischen den Objekten erzeugt.
Dazu betrachten wir zunächst eine Vereinfachung.</p>
</li>
<li>
<p>Quellcode für die Aktionen der Objekte, wenn sie eine Nachricht erhalten,
das heißt die Methoden
<code>press()</code> in <code>Switch</code> sowie
<code>turnOn()</code> sowie <code>turnOff()</code> in <code>Lamp</code> müssen implementiert werden.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Wir vereinfachen zunächst die Kennt-Beziehung zwischen <code>Switch</code> und
<code>Lamp</code> so, dass nur eine <code>Lamp</code> mit einem <code>Switch</code> verbunden werden kann,
dies nennt man eine <em>1-zu-1-Beziehung</em>.</p>
</div>
<div id="klassendiagramm-3" class="imageblock">
<div class="content">
<img src="oose-klassendiagramm-schalter-lampe-vereinfacht.svg" alt="oose klassendiagramm schalter lampe vereinfacht" width="327" height="359">
</div>
<div class="title">Abbildung 10. Klassendiagramm mit einer 1-zu-1-Beziehung zwischen <code>Switch</code> und <code>Lamp</code>.</div>
</div>
<div class="paragraph">
<p>In Java muss jede Klassen mit dem
<a href="https://de.wikipedia.org/wiki/Zugriffsmodifikator">Zugriffsmodifikator</a>
<code>public</code> jeweils in einer eigenen <code>java</code>-Datei,
die den Namen der Klasse trägt, gespeichert werden.</p>
</div>
<div class="listingblock">
<div class="title">Quellcode 3. Java-Programm</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-c1">// State.java</span>
<span class="tok-kd">public</span> <span class="tok-kd">enum</span> <span class="tok-n">State</span> <span class="tok-o">{</span>
  <span class="tok-n">ON</span><span class="tok-o">,</span>
  <span class="tok-n">OFF</span>
<span class="tok-o">}</span>

<span class="tok-c1">// Datei Lamp.java</span>
<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Lamp</span> <span class="tok-o">{</span>
  <span class="tok-kd">private</span> <span class="tok-n">State</span> <span class="tok-n">state</span><span class="tok-o">;</span>

  <span class="tok-kd">private</span> <span class="tok-n">Color</span> <span class="tok-n">color</span><span class="tok-o">;</span>

  <span class="tok-kd">public</span> <span class="tok-nf">Lamp</span><span class="tok-o">(</span><span class="tok-n">Color</span> <span class="tok-n">color</span><span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">state</span> <span class="tok-o">=</span> <span class="tok-n">State</span><span class="tok-o">.</span><span class="tok-na">OFF</span><span class="tok-o">;</span>
    <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">color</span> <span class="tok-o">=</span> <span class="tok-n">color</span><span class="tok-o">;</span>
  <span class="tok-o">}</span>

  <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">turnOn</span><span class="tok-o">()</span> <span class="tok-o">{</span>
    <span class="tok-n">state</span> <span class="tok-o">=</span> <span class="tok-n">State</span><span class="tok-o">.</span><span class="tok-na">ON</span><span class="tok-o">;</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-k">this</span> <span class="tok-o">+</span> <span class="tok-s">&quot; ON&quot;</span><span class="tok-o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="tok-o">}</span>

  <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">turnOff</span><span class="tok-o">()</span> <span class="tok-o">{</span>
    <span class="tok-n">state</span> <span class="tok-o">=</span> <span class="tok-n">State</span><span class="tok-o">.</span><span class="tok-na">OFF</span><span class="tok-o">;</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-k">this</span> <span class="tok-o">+</span> <span class="tok-s">&quot; OFF&quot;</span><span class="tok-o">);</span>
  <span class="tok-o">}</span>
<span class="tok-o">}</span>

<span class="tok-c1">// Switch.java</span>
<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Switch</span> <span class="tok-o">{</span>
  <span class="tok-kd">private</span> <span class="tok-n">State</span> <span class="tok-n">state</span><span class="tok-o">;</span>
  <span class="tok-kd">private</span> <span class="tok-n">Lamp</span> <span class="tok-n">lamp</span><span class="tok-o">;</span> <i class="conum" data-value="2"></i><b>(2)</b>

  <span class="tok-kd">public</span> <span class="tok-nf">Switch</span><span class="tok-o">()</span> <span class="tok-o">{</span>
    <span class="tok-n">state</span> <span class="tok-o">=</span> <span class="tok-n">State</span><span class="tok-o">.</span><span class="tok-na">OFF</span><span class="tok-o">;</span>
  <span class="tok-o">}</span>

  <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">press</span><span class="tok-o">()</span> <span class="tok-o">{</span>
    <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">lamp</span> <span class="tok-o">!=</span> <span class="tok-kc">null</span><span class="tok-o">)</span> <span class="tok-o">{</span> <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="tok-k">switch</span> <span class="tok-o">(</span><span class="tok-n">state</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">case</span> <span class="tok-n">OFF</span><span class="tok-o">:</span>
	  <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">state</span> <span class="tok-o">=</span> <span class="tok-n">State</span><span class="tok-o">.</span><span class="tok-na">ON</span><span class="tok-o">;</span>
          <span class="tok-n">lamp</span><span class="tok-o">.</span><span class="tok-na">turnOn</span><span class="tok-o">();</span>
          <span class="tok-k">break</span><span class="tok-o">;</span>

       <span class="tok-k">case</span> <span class="tok-n">ON</span><span class="tok-o">:</span>
	 <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">state</span> <span class="tok-o">=</span> <span class="tok-n">State</span><span class="tok-o">.</span><span class="tok-na">OFF</span><span class="tok-o">;</span>
         <span class="tok-n">lamp</span><span class="tok-o">.</span><span class="tok-na">turnOff</span><span class="tok-o">();</span>
       <span class="tok-o">}</span>
    <span class="tok-o">}</span>
  <span class="tok-o">}</span>

  <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">connect</span><span class="tok-o">(</span><span class="tok-n">Lamp</span> <span class="tok-n">lampToConnect</span><span class="tok-o">)</span> <span class="tok-o">{</span> <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">lamp</span> <span class="tok-o">==</span> <span class="tok-kc">null</span><span class="tok-o">)</span> <span class="tok-o">{</span> <i class="conum" data-value="5"></i><b>(5)</b>
      <span class="tok-n">lamp</span> <span class="tok-o">=</span> <span class="tok-n">lampToConnect</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
  <span class="tok-o">}</span>

  <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">disconnect</span><span class="tok-o">(</span><span class="tok-n">Lamp</span> <span class="tok-n">lampToDisconnect</span><span class="tok-o">)</span> <span class="tok-o">{</span> <i class="conum" data-value="6"></i><b>(6)</b>
    <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">lamp</span> <span class="tok-o">==</span> <span class="tok-n">lampToDisconnect</span><span class="tok-o">)</span> <span class="tok-o">{</span> <i class="conum" data-value="7"></i><b>(7)</b>
      <span class="tok-n">lamp</span> <span class="tok-o">=</span> <span class="tok-kc">null</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
  <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Hier wird eine Text auf der Konsole ausgegeben. Diese
setzt sich aus dem aktuellen Objekt <code>this</code> sowie dem Text <code>" ON"</code>
zusammen.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Um eine Beziehung von <code>Switch</code> zu <code>Lamp</code> herstellen zu
können, wird ein Attribut der Klasse <code>Lamp</code> benötigt,
dieses hat den initialen Wert <code>null</code>, d.&#160;h. es ist
anfangs kein Objekt verknüpft.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Die Methoden <code>turnOn()</code> und <code>turnOff()</code> können nur aufgerufen
werden, wenn <code>lamp</code> mit einem Objekt der Klasse <code>Lamp</code> verknüpft ist.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Die Methode <code>connect()</code> stellt die Verknüpfung einer Lampe mit einem
Schalter her.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Eine neue Verknüpfung wird nur dann hergestellt, wenn der
Schalter noch nicht verbunden ist.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Die Methode <code>disconnect()</code> löst eine Verknüpfung zwischen einer Lampe und
einem Schalter.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Die Verknüpfung wird nur gelöst, wenn die im Parameter angegebene
<code>lamp</code> mit der bereits verknüpften identisch ist.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Mit diesen Klassen können jetzt die Objekte <code>lamp1</code> und <code>switch1</code> erzeugt werden
und die Lampe <code>lamp1</code> mit dem Schalter <code>switch1</code> verbunden werden.</p>
</div>
<div class="listingblock">
<div class="title">Quellcode 4. Java-Programm</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">Lamp</span> <span class="tok-n">lamp1</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Lamp</span><span class="tok-o">();</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-n">Switch</span> <span class="tok-n">switch1</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Switch</span><span class="tok-o">();</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-n">switch1</span><span class="tok-o">.</span><span class="tok-na">connect</span><span class="tok-o">(</span><span class="tok-n">lamp1</span><span class="tok-o">);</span> <i class="conum" data-value="3"></i><b>(3)</b>
<span class="tok-n">switch1</span><span class="tok-o">.</span><span class="tok-na">press</span><span class="tok-o">();</span> <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Eine neues Objekt der Klasse Lamp mit dem Bezeichner <code>lamp1</code> wird erzeugt.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Eine neues Objekt der Klasse Switch mit dem Bezeichner <code>switch1</code> wird erzeugt.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Die Lampe <code>lamp1</code> wird mit dem Schalter <code>switch1</code> verbunden.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>&#8222;Betätigen&#8220; des Schalters.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Diese Befehle können in
<a href="https://www.bluej.org/">BlueJ</a> auch ohne <code>main</code>-Methode
direkt über die Oberfläche oder im integrierten CodePad ausgeführt
werden.
Für ein vollständiges Java-Programm wird hingegen in einer
Klasse eine <code>main</code>-Methode benötigt wie in der Klasse <code>Controller</code>
im <a href="#final-source-code">Quellcode 6</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_wie_kann_man_mehrere_lampen_mit_einem_schalter_verbinden">3.2. Wie kann man mehrere Lampen mit einem Schalter verbinden?</h3>
<div class="paragraph">
<p>Wir benötigen dazu eine Objekt-Sammlung im Switch. In Java gibt es dazu
vorgefertigte Komponenten, z.B. eine
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html">ArrayList</a>.
Diese hat u.a. die Methoden</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>add(E e)</code></dt>
<dd>
<p>Fügt am Ende der Liste ein Objekt hinzu.</p>
</dd>
<dt class="hdlist1"><code>get(int index): E</code></dt>
<dd>
<p>Gibt das Objekt an der angegeben Position <code>index</code> aus.</p>
</dd>
<dt class="hdlist1"><code>remove(Object o)</code></dt>
<dd>
<p>Entfernt ein Objekt aus der Sammlung.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Zudem gibt es in Java eine besondere <code>for</code>-Schleife für Collections wie
u.&#160;a. die ArrayList:</p>
</div>
<div class="listingblock">
<div class="title">Quellcode 5. Java-Programm</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-k">for</span> <span class="tok-o">(</span><span class="tok-n">Lamp</span> <span class="tok-n">lamp</span><span class="tok-o">:</span> <span class="tok-n">lamps</span><span class="tok-o">)</span> <span class="tok-o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="tok-n">lamp</span><span class="tok-o">.</span><span class="tok-na">turnOn</span><span class="tok-o">();</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>In dem Schleifenkopf wird eine Collection ausgewählt, hier <code>lamps</code> sowie
ein Bezeichner <code>lamp</code> der Klasse <code>Lamp</code> definiert,
der nur in dem Schleifenrumpf gültig ist.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Im Schleifenrumpf wirden die Aktionen festgelegt, die mit jedem
Objekt der Sammlung durchgeführt werden, dazu verwendet man den oben
definierten Bezeichner <code>lamp</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Hier der vollständige Quellcode, der <a href="#user-story-1">User-Story 1</a> entspricht.:</p>
</div>
<div id="final-source-code" class="listingblock">
<div class="title">Quellcode 6. Vollständiges Java-Programm mit Javadoc-Kommentaren</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-c1">// State.java</span>
<span class="tok-cm">/**</span>
<span class="tok-cm"> * The representation of a state with the values ON and OFF.</span>
<span class="tok-cm"> *</span>
<span class="tok-cm"> * @author André Bauer</span>
<span class="tok-cm"> * @version 1.0</span>
<span class="tok-cm"> */</span>
<span class="tok-kd">public</span> <span class="tok-kd">enum</span> <span class="tok-n">State</span> <span class="tok-o">{</span>
  <span class="tok-n">ON</span><span class="tok-o">,</span>
  <span class="tok-n">OFF</span>
<span class="tok-o">}</span>

<span class="tok-c1">// Lamp.java</span>
<span class="tok-cm">/**</span>
<span class="tok-cm"> * A lamp with the states ON and OFF. It is not dimable.</span>
<span class="tok-cm"> *</span>
<span class="tok-cm"> * @author André Bauer</span>
<span class="tok-cm"> * @version 1.0</span>
<span class="tok-cm"> */</span>
<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Lamp</span> <span class="tok-o">{</span>
  <span class="tok-cm">/**</span>
<span class="tok-cm">   * The current state of the lamp.</span>
<span class="tok-cm">   */</span>
  <span class="tok-kd">private</span> <span class="tok-n">State</span> <span class="tok-n">state</span> <span class="tok-o">=</span> <span class="tok-n">State</span><span class="tok-o">.</span><span class="tok-na">OFF</span><span class="tok-o">;</span>

  <span class="tok-cm">/**</span>
<span class="tok-cm">   * The color of the lamp.</span>
<span class="tok-cm">   */</span>
    <span class="tok-kd">private</span> <span class="tok-n">Color</span> <span class="tok-n">color</span><span class="tok-o">;</span>

  <span class="tok-cm">/**</span>
<span class="tok-cm">   * Creates a new lamp, with the initial state OFF.</span>
<span class="tok-cm">   */</span>
  <span class="tok-kd">public</span> <span class="tok-nf">Lamp</span><span class="tok-o">(</span><span class="tok-n">Color</span> <span class="tok-n">color</span><span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">state</span> <span class="tok-o">=</span> <span class="tok-n">State</span><span class="tok-o">.</span><span class="tok-na">OFF</span><span class="tok-o">;</span>
    <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">color</span> <span class="tok-o">=</span> <span class="tok-n">color</span><span class="tok-o">;</span>
  <span class="tok-o">}</span>

  <span class="tok-cm">/**</span>
<span class="tok-cm">   * Turns the state of the lamp to ON.</span>
<span class="tok-cm">   */</span>
  <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">turnOn</span><span class="tok-o">()</span> <span class="tok-o">{</span>
    <span class="tok-n">state</span> <span class="tok-o">=</span> <span class="tok-n">State</span><span class="tok-o">.</span><span class="tok-na">ON</span><span class="tok-o">;</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-k">this</span> <span class="tok-o">+</span> <span class="tok-s">&quot; ON&quot;</span><span class="tok-o">);</span>
  <span class="tok-o">}</span>

  <span class="tok-cm">/**</span>
<span class="tok-cm">   * Turns the state of the lamp to OFF.</span>
<span class="tok-cm">   */</span>
  <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">turnOff</span><span class="tok-o">()</span> <span class="tok-o">{</span>
    <span class="tok-n">state</span> <span class="tok-o">=</span> <span class="tok-n">State</span><span class="tok-o">.</span><span class="tok-na">OFF</span><span class="tok-o">;</span>
    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-k">this</span> <span class="tok-o">+</span> <span class="tok-s">&quot; OFF&quot;</span><span class="tok-o">);</span>
  <span class="tok-o">}</span>
<span class="tok-o">}</span>


<span class="tok-c1">// Switch.java</span>
<span class="tok-kn">import</span> <span class="tok-nn">java.util.*</span><span class="tok-o">;</span>

<span class="tok-cm">/**</span>
<span class="tok-cm"> * A simple switch with the states ON and OFF.</span>
<span class="tok-cm"> *</span>
<span class="tok-cm"> * @author André Bauer</span>
<span class="tok-cm"> * @version 1.0</span>
<span class="tok-cm"> */</span>
<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Switch</span> <span class="tok-o">{</span>
  <span class="tok-cm">/**</span>
<span class="tok-cm">   * The current state of the switch.</span>
<span class="tok-cm">   */</span>
  <span class="tok-kd">private</span> <span class="tok-n">State</span> <span class="tok-n">state</span> <span class="tok-o">=</span> <span class="tok-n">State</span><span class="tok-o">.</span><span class="tok-na">OFF</span><span class="tok-o">;</span>

  <span class="tok-cm">/**</span>
<span class="tok-cm">   * The list of connected lamps.</span>
<span class="tok-cm">   */</span>
  <span class="tok-kd">private</span> <span class="tok-n">List</span><span class="tok-o">&lt;</span><span class="tok-n">Lamp</span><span class="tok-o">&gt;</span> <span class="tok-n">lamps</span><span class="tok-o">;</span>

  <span class="tok-cm">/**</span>
<span class="tok-cm">   * Creates a new switch witch has an initial state OFF</span>
<span class="tok-cm">   * and an empty list of connected lamps.</span>
<span class="tok-cm">   */</span>
  <span class="tok-kd">public</span> <span class="tok-nf">Switch</span><span class="tok-o">()</span> <span class="tok-o">{</span>
    <span class="tok-n">lamps</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">ArrayList</span><span class="tok-o">&lt;</span><span class="tok-n">Lamp</span><span class="tok-o">&gt;();</span>
  <span class="tok-o">}</span>

  <span class="tok-cm">/**</span>
<span class="tok-cm">   * Turns the state of the switch and</span>
<span class="tok-cm">   * signals every connected lamp to turn</span>
<span class="tok-cm">   * its state to the state of the switch.</span>
<span class="tok-cm">   */</span>
  <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">press</span><span class="tok-o">()</span> <span class="tok-o">{</span>
    <span class="tok-k">switch</span> <span class="tok-o">(</span><span class="tok-n">state</span><span class="tok-o">)</span> <span class="tok-o">{</span>
      <span class="tok-k">case</span> <span class="tok-n">OFF</span><span class="tok-o">:</span>
	<span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">state</span> <span class="tok-o">=</span> <span class="tok-n">State</span><span class="tok-o">.</span><span class="tok-na">ON</span><span class="tok-o">;</span>
	<span class="tok-k">for</span> <span class="tok-o">(</span><span class="tok-n">Lamp</span> <span class="tok-n">lamp</span><span class="tok-o">:</span> <span class="tok-n">lamps</span><span class="tok-o">)</span> <span class="tok-o">{</span>
          <span class="tok-n">lamp</span><span class="tok-o">.</span><span class="tok-na">turnOn</span><span class="tok-o">();</span>
	<span class="tok-o">}</span>
	<span class="tok-k">break</span><span class="tok-o">;</span>

      <span class="tok-k">case</span> <span class="tok-n">ON</span><span class="tok-o">:</span>
	<span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">state</span> <span class="tok-o">=</span> <span class="tok-n">State</span><span class="tok-o">.</span><span class="tok-na">OFF</span><span class="tok-o">;</span>
	<span class="tok-k">for</span> <span class="tok-o">(</span><span class="tok-n">Lamp</span> <span class="tok-n">lamp</span><span class="tok-o">:</span> <span class="tok-n">lamps</span><span class="tok-o">)</span> <span class="tok-o">{</span>
          <span class="tok-n">lamp</span><span class="tok-o">.</span><span class="tok-na">turnOff</span><span class="tok-o">();</span>
	<span class="tok-o">}</span>
     <span class="tok-o">}</span>
  <span class="tok-o">}</span>

  <span class="tok-cm">/**</span>
<span class="tok-cm">   * Connects a lamp with the switch.</span>
<span class="tok-cm">   *</span>
<span class="tok-cm">   * @param lamp The lamp, which should become connected with the switch.</span>
<span class="tok-cm">   */</span>
  <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">connect</span><span class="tok-o">(</span><span class="tok-n">Lamp</span> <span class="tok-n">lamp</span><span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">lamps</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">lamp</span><span class="tok-o">);</span>
  <span class="tok-o">}</span>

  <span class="tok-cm">/**</span>
<span class="tok-cm">   * Disconnects a lamp from the switch, if connected</span>
<span class="tok-cm">   *</span>
<span class="tok-cm">   * @param lamp The lamp, which should become disconnected from the switch.</span>
<span class="tok-cm">   */</span>
  <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">disconnect</span><span class="tok-o">(</span><span class="tok-n">Lamp</span> <span class="tok-n">lamp</span><span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-n">lamps</span><span class="tok-o">.</span><span class="tok-na">remove</span><span class="tok-o">(</span><span class="tok-n">lamp</span><span class="tok-o">);</span>
  <span class="tok-o">}</span>
<span class="tok-o">}</span>

<span class="tok-c1">// Controller.java</span>
<span class="tok-cm">/**</span>
<span class="tok-cm"> * The main class which runs User-Story 1.</span>
<span class="tok-cm"> *</span>
<span class="tok-cm"> * @author André Bauer</span>
<span class="tok-cm"> * @version 1.0</span>
<span class="tok-cm"> */</span>
<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Controller</span> <span class="tok-o">{</span>
  <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">args</span><span class="tok-o">[])</span> <span class="tok-o">{</span>
    <span class="tok-c1">// User-Story 1</span>
    <span class="tok-n">Lamp</span> <span class="tok-n">lamp1</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Lamp</span><span class="tok-o">(</span><span class="tok-n">Color</span><span class="tok-o">.</span><span class="tok-na">BLUE</span><span class="tok-o">);</span>
    <span class="tok-n">Lamp</span> <span class="tok-n">lamp2</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Lamp</span><span class="tok-o">(</span><span class="tok-n">Color</span><span class="tok-o">.</span><span class="tok-na">RED</span><span class="tok-o">);</span>
    <span class="tok-n">Lamp</span> <span class="tok-n">lamp3</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Lamp</span><span class="tok-o">(</span><span class="tok-n">Color</span><span class="tok-o">.</span><span class="tok-na">YELLOW</span><span class="tok-o">);</span>
    <span class="tok-n">Switch</span> <span class="tok-n">switch1</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Switch</span><span class="tok-o">();</span>
    <span class="tok-n">switch1</span><span class="tok-o">.</span><span class="tok-na">connect</span><span class="tok-o">(</span><span class="tok-n">lamp1</span><span class="tok-o">);</span>
    <span class="tok-n">switch1</span><span class="tok-o">.</span><span class="tok-na">connect</span><span class="tok-o">(</span><span class="tok-n">lamp2</span><span class="tok-o">);</span>
    <span class="tok-n">switch1</span><span class="tok-o">.</span><span class="tok-na">connect</span><span class="tok-o">(</span><span class="tok-n">lamp3</span><span class="tok-o">);</span>
    <span class="tok-n">switch1</span><span class="tok-o">.</span><span class="tok-na">press</span><span class="tok-o">();</span>
  <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Der Quellcode wird mit dem Java-Compiler <code>javac</code> übersetzt.
Dabei genügt es, die Datei <code>Controller.java</code> anzugeben.
Der Java-Compiler übersetzt dann automatisch alle weiteren
benötigten Dateien.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="sh"><span></span>$ javac Controller.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>Das Programm wird mit <code>java</code> ausgeführt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="sh"><span></span>$ java Controller
Lamp@6d06d69c ON <i class="conum" data-value="1"></i><b>(1)</b>
Lamp@7852e922 ON
Lamp@4e25154f ON</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>Lamp@6d06d69c</code> wird durch <code>this</code> in der Ausgabe mit
<code>System.out.println(this + " ON");</code> erzeugt und setzt
sich aus dem Namen der Klasse und der ID des Objektes zusammen.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Zuletzt aktualisiert 2018-05-21 22:48:59 CEST
</div>
</div>
</body>
</html>